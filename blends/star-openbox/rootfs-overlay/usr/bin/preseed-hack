#!/bin/bash

dpkg --purge live-boot live-tools live-config live-config-sysvinit live-boot-initramfs-tools
rm -rf /etc/live

file=/etc/fstab
if grep "^/dev/sd" ${file} | grep "/media/" | grep "auto"
then
    line1=`grep "^/dev/sd" ${file} | grep "/media/" | grep "auto"`
    line2="## ${line1}"
    rpl -q "${line1}" "${line2}" ${file}
fi
if grep "^/dev/sr" ${file} | grep "/media/cdrom"
then
    line3=`grep "^/dev/" ${file} | grep "/media/cdrom"`
    line4="## ${line3}"
    rpl -q "${line3}" "${line4}" ${file}
fi
	
	echo \
"# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback

iface eth0 inet dhcp

iface wlan0 inet dhcp
" > /etc/network/interfaces

	echo \
"# Xwrapper.config (Debian X Window System server wrapper configuration file)
#
# This file was generated by the post-installation script of the
# xserver-xorg-legacy package using values from the debconf database.
#
# See the Xwrapper.config(5) manual page for more information.
#
# This file is automatically updated on upgrades of the xserver-xorg-legacy
# package *only* if it has not been modified since the last upgrade of that
# package.
#
# If you have edited this file but would like it to be automatically updated
# again, run the following command as root:
#   dpkg-reconfigure xserver-xorg-legacy
allowed_users=console
" > /etc/X11/Xwrapper.config
